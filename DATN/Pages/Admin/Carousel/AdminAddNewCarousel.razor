@layout SupportLayout
@page "/add-carousel"

<PageTitle> Thêm mới Carousel</PageTitle>
<AuthorizeView Roles="Adminstrator">
    <Authorized>
        <div class="card mb-4">
            <div class="card-header mb-3">
                Thêm mới Carousel
            </div>
            <div class="card-body">
                @if (@isLoading)
                {
                    <DATN.Shared.Components.LoadingComponent />
                }
                else
                {
            <EditForm Model="carosel" OnValidSubmit="@AddCarousel" Context="aa">
                        <DataAnnotationsValidator />
                        <div class="form-group row ms-3">
                            <div class="text-danger col-sm-7 offset-sm-3 ps-0">
                                <ValidationMessage For="@(() => carosel.tiltle)" />
                            </div>
                        </div>
                        <div class=" form-group row mb-2 ms-3 col-sm-11">
                            <label class="col-sm-3">Tiêu đề</label>
                            <div class="col-sm-4">
                                <InputText @bind-Value="carosel.tiltle"
                                       class="form-control form-control-sm" />
                            </div>
                        </div>

                        <div class="form-group row ms-3">
                            <div class="text-danger col-sm-7 offset-sm-3 ps-0">
                                <ValidationMessage For="@(() => carosel.content)" />
                            </div>
                        </div>
                        <div class=" form-group  mb-2 ms-3 row col-sm-11">
                            <label class="col-sm-3 col-form-label">Nội dung</label>
                            <div class="col-sm-4">
                                <InputText @bind-Value="carosel.content"
                                       class="form-control form-control-sm" />
                            </div>
                        </div>
                        @if (IsNull)
                        {
                            <div class=" form-group  mb-2 ms-3 row col-sm-11">
                                <div class="text-danger col-sm-4 offset-3">@errMess</div>
                            </div>
                        }
                        <div class=" form-group  mb-2 ms-3 row col-sm-11">
                            <label class="col-sm-3 col-form-label">Ảnh</label>
                            <div class="col-sm-4">
                                <InputFile style="@errCodeStyle"
                                       class="form-control form-control-sm"
                                       OnChange="@HandleFileSelected" />
                            </div>
                        </div>
                        <div class="form-group row mb-2 ms-3">
                            <div class="col-sm-9 offset-3">
                                <button type="submit" class="btn btn-primary">Thêm Carousel</button>
                                <a href="/manager-carousel" class="btn btn-primary">Trở lại</a>
                            </div>
                        </div>
                    </EditForm>
                }
            </div>
        </div>
        <RadzenNotification />
    </Authorized>
</AuthorizeView>